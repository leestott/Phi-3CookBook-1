# **Microsoft Phi-3.5 tflite-–∏–π–≥ –∞—à–∏–≥–ª–∞–Ω Android –∞–ø–ø “Ø“Ø—Å–≥—ç—Ö**

–≠–Ω—ç –±–æ–ª Microsoft Phi-3.5 tflite –∑–∞–≥–≤–∞—Ä—É—É–¥—ã–≥ –∞—à–∏–≥–ª–∞—Å–∞–Ω Android-–∏–π–Ω –∂–∏—à—ç—ç —é–º.

## **üìö –ú—ç–¥–ª—ç–≥**

Android LLM Inference API –Ω—å Android –∞–ø–ø–ª–∏–∫–µ–π—à–Ω—É—É–¥–∞–¥ –∑–æ—Ä–∏—É–ª–∞–Ω —Ç–æ–º —Ö—ç–º–∂—ç—ç–Ω–∏–π —Ö—ç–ª–Ω–∏–π –∑–∞–≥–≤–∞—Ä—É—É–¥—ã–≥ (LLM) –±“Ø—Ä—ç–Ω —Ç”©—Ö”©”©—Ä”©–º–∂ –¥—ç—ç—Ä –∞–∂–∏–ª–ª—É—É–ª–∞—Ö –±–æ–ª–æ–º–∂–∏–π–≥ –æ–ª–≥–æ–¥–æ–≥. “Æ“Ø–Ω–∏–π–≥ –∞—à–∏–≥–ª–∞–Ω —Ç–µ–∫—Å—Ç “Ø“Ø—Å–≥—ç—Ö, –±–∞–π–≥–∞–ª–∏–π–Ω —Ö—ç–ª—ç—ç—Ä –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö, –±–∞—Ä–∏–º—Ç –±–∏—á–≥–∏–π–≥ —Ö—É—Ä–∞–∞–Ω–≥—É–π–ª–∞—Ö –≥—ç—Ö –º—ç—Ç –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –¥–∞–∞–ª–≥–∞–≤—Ä—É—É–¥—ã–≥ –≥“Ø–π—Ü—ç—Ç–≥—ç–∂ –±–æ–ª–Ω–æ. –≠–Ω—ç –¥–∞–∞–ª–≥–∞–≤–∞—Ä –Ω—å –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω —Ç–µ–∫—Å—Ç—ç—ç—Å —Ç–µ–∫—Å—Ç —Ä“Ø“Ø —á–∏–≥–ª—ç—Å—ç–Ω —Ç–æ–º —Ö—ç–ª–Ω–∏–π –∑–∞–≥–≤–∞—Ä—É—É–¥—ã–≥ –¥—ç–º–∂–¥—ç–≥ —Ç—É–ª —Ö–∞–º–≥–∏–π–Ω —Å“Ø“Ø–ª–∏–π–Ω “Ø–µ–∏–π–Ω —Ç”©—Ö”©”©—Ä”©–º–∂ –¥—ç—ç—Ä—Ö generative AI –∑–∞–≥–≤–∞—Ä—É—É–¥—ã–≥ —Ç–∞–Ω—ã Android –∞–ø–ø-–¥ –∞—à–∏–≥–ª–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.

Google AI Edge Torch –Ω—å PyTorch –∑–∞–≥–≤–∞—Ä—É—É–¥—ã–≥ .tflite —Ñ–æ—Ä–º–∞—Ç —Ä—É—É —Ö”©—Ä–≤“Ø“Ø–ª—ç—Ö–∏–π–≥ –¥—ç–º–∂–¥—ç–≥ python —Å–∞–Ω –±”©–≥”©”©–¥ “Ø“Ø–Ω–∏–π–≥ TensorFlow Lite –±–æ–ª–æ–Ω MediaPipe –∞—à–∏–≥–ª–∞–Ω –∞–∂–∏–ª–ª—É—É–ª–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π. –≠–Ω—ç –Ω—å Android, iOS –±–æ–ª–æ–Ω IoT —Ç”©—Ö”©”©—Ä”©–º–∂“Ø“Ø–¥—ç–¥ –∑–∞–≥–≤–∞—Ä—É—É–¥—ã–≥ –±“Ø—Ä—ç–Ω —Ç”©—Ö”©”©—Ä”©–º–∂ –¥—ç—ç—Ä –∞–∂–∏–ª–ª—É—É–ª–∞—Ö –±–æ–ª–æ–º–∂–∏–π–≥ –æ–ª–≥–æ–¥–æ–≥. AI Edge Torch –Ω—å CPU-–≥–∏–π–Ω ”©—Ä–≥”©–Ω —Ö“Ø—Ä—ç—ç–≥ —Ö–∞–º–∞—Ä–¥–∞–≥ –±”©–≥”©”©–¥ GPU –±–æ–ª–æ–Ω NPU-–∏–π–Ω —ç—Ö–Ω–∏–π —à–∞—Ç–Ω—ã –¥—ç–º–∂–ª—ç–≥—Ç—ç–π. AI Edge Torch –Ω—å PyTorch-—Ç—ç–π –Ω—è–≥—Ç —É—è–ª–¥–∞–∂, torch.export() –¥—ç—ç—Ä —Å—É—É—Ä–∏–ª–∞–Ω Core ATen –æ–ø–µ—Ä–∞—Ç–æ—Ä—É—É–¥—ã–≥ ”©—Ä–≥”©–Ω —Ö–∞–º—Ä–∞—Ö—ã–≥ –∑–æ—Ä—å–¥–æ–≥.

## **ü™¨ –ó–∞–∞–≤–∞—Ä**

### **üî• Microsoft Phi-3.5-–∏–π–≥ tflite —Ä—É—É —Ö”©—Ä–≤“Ø“Ø–ª—ç—Ö**

0. –≠–Ω—ç –∂–∏—à—ç—ç –Ω—å –∑”©–≤—Ö”©–Ω Android 14+ —Ö—É–≤–∏–ª–±–∞—Ä—Ç –∑–æ—Ä–∏—É–ª–∞–≥–¥—Å–∞–Ω.

1. Python 3.10.12-–∏–π–≥ —Å—É—É–ª–≥–∞—Ö.

***–°–∞–Ω–∞–ª –±–æ–ª–≥–æ—Ö:*** Python –æ—Ä—á–Ω–æ–æ conda –∞—à–∏–≥–ª–∞–Ω —Å—É—É–ª–≥–∞–∞—Ä–∞–π.

2. Ubuntu 20.04 / 22.04 (–∞–Ω—Ö–∞–∞—Ä–ª–∞–∞ [google ai-edge-torch](https://github.com/google-ai-edge/ai-edge-torch) –¥—ç—ç—Ä —Ç”©–≤–ª”©—Ä“Ø“Ø–ª–Ω—ç “Ø“Ø)

***–°–∞–Ω–∞–ª –±–æ–ª–≥–æ—Ö:*** Azure Linux VM —ç—Å–≤—ç–ª –≥—É—Ä–∞–≤–¥–∞–≥—á —ç—Ç–≥—ç—ç–¥–∏–π–Ω “Ø“Ø–ª—ç–Ω VM –∞—à–∏–≥–ª–∞–Ω –æ—Ä—á–Ω–æ–æ “Ø“Ø—Å–≥—ç—ç—Ä—ç–π.

3. Linux bash –¥—ç—ç—Ä—ç—ç –æ—á–æ–æ–¥ Python —Å–∞–Ω —Å—É—É–ª–≥–∞–∞—Ä–∞–π.

```bash

git clone https://github.com/google-ai-edge/ai-edge-torch.git

cd ai-edge-torch

pip install -r requirements.txt -U 

pip install tensorflow-cpu -U

pip install -e .

```

4. Hugging Face-—ç—ç—Å Microsoft-3.5-Instruct-–∏–π–≥ —Ç–∞—Ç–∞–∂ –∞–≤.

```bash

git lfs install

git clone  https://huggingface.co/microsoft/Phi-3.5-mini-instruct

```

5. Microsoft Phi-3.5-–∏–π–≥ tflite —Ä—É—É —Ö”©—Ä–≤“Ø“Ø–ª–Ω—ç.

```bash

python ai-edge-torch/ai_edge_torch/generative/examples/phi/convert_phi3_to_tflite.py --checkpoint_path  Your Microsoft Phi-3.5-mini-instruct path --tflite_path Your Microsoft Phi-3.5-mini-instruct tflite path  --prefill_seq_len 1024 --kv_cache_max_len 1280 --quantize True

```

### **üî• Microsoft Phi-3.5-–∏–π–≥ Android Mediapipe –±–∞–≥—Ü —Ä—É—É —Ö”©—Ä–≤“Ø“Ø–ª—ç—Ö**

–≠—Ö–ª—ç—ç–¥ mediapipe-–∏–π–≥ —Å—É—É–ª–≥–∞–∞—Ä–∞–π.

```bash

pip install mediapipe

```

[–¢—ç–º–¥—ç–≥–ª—ç–ª–∏–π–Ω –¥—ç–≤—Ç—ç—Ä—Ç—ç—ç](../../../../../../code/09.UpdateSamples/Aug/Android/convert/convert_phi.ipynb) –¥–∞—Ä–∞–∞—Ö –∫–æ–¥—ã–≥ –∞–∂–∏–ª–ª—É—É–ª–∞–∞—Ä–∞–π.

```python

import mediapipe as mp
from mediapipe.tasks.python.genai import bundler

config = bundler.BundleConfig(
    tflite_model='Your Phi-3.5 tflite model path',
    tokenizer_model='Your Phi-3.5 tokenizer model path',
    start_token='start_token',
    stop_tokens=[STOP_TOKENS],
    output_filename='Your Phi-3.5 task model path',
    enable_bytes_to_unicode_mapping=True or Flase,
)
bundler.create_bundle(config)

```

### **üî• –ó–∞–≥–≤–∞—Ä—ã–Ω —Ñ–∞–π–ª—ã–≥ adb push –∞—à–∏–≥–ª–∞–Ω Android —Ç”©—Ö”©”©—Ä”©–º–∂–∏–π–Ω –∑–∞–º–¥ –±–∞–π—Ä—à—É—É–ª–∞—Ö**

```bash

adb shell rm -r /data/local/tmp/llm/ # Remove any previously loaded models

adb shell mkdir -p /data/local/tmp/llm/

adb push 'Your Phi-3.5 task model path' /data/local/tmp/llm/phi3.task

```

### **üî• Android –∫–æ–¥–æ–æ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö**

![–¥–µ–º–æ](../../../../../../translated_images/demo.8981711efb5a9cee5dcd835f66b3b31b94b4f3e527300e15a98a0d48863b9fbd.mo.png)

It seems like "mo" could refer to a language or abbreviation, but it's not entirely clear which one you mean. Could you clarify whether "mo" refers to a specific language (e.g., Maori, Montenegrin, or something else)? If so, I'd be happy to assist with the translation!