Phi-3-mini WebGPU RAG Chatbot

## Демонстрация возможностей WebGPU и паттерна RAG
Паттерн RAG с использованием модели Phi-3 Onnx Hosted применяет подход Retrieval-Augmented Generation, объединяя возможности моделей Phi-3 с хостингом ONNX для эффективного развертывания ИИ. Этот паттерн играет ключевую роль в тонкой настройке моделей для задач, специфичных для определенных областей, предлагая сочетание качества, экономичности и понимания контекста на длинных промежутках. Это часть пакета Azure AI, который предоставляет широкий выбор моделей, легко доступных для поиска, тестирования и использования, удовлетворяя потребности различных отраслей в кастомизации. Модели Phi-3, включая Phi-3-mini, Phi-3-small и Phi-3-medium, доступны в каталоге моделей Azure AI и могут быть настроены и развернуты самостоятельно или через платформы, такие как HuggingFace и ONNX, что подчеркивает приверженность Microsoft к доступным и эффективным решениям в области ИИ.

## Что такое WebGPU
WebGPU — это современный веб-API для работы с графикой, разработанный для обеспечения эффективного доступа к графическому процессору (GPU) устройства напрямую из веб-браузеров. Он предназначен для замены WebGL и предлагает несколько ключевых улучшений:

1. **Совместимость с современными GPU**: WebGPU создан для работы с современными архитектурами GPU, используя системные API, такие как Vulkan, Metal и Direct3D 12.
2. **Улучшенная производительность**: Поддерживает вычисления общего назначения на GPU и более быстрые операции, что делает его подходящим как для рендеринга графики, так и для задач машинного обучения.
3. **Расширенные возможности**: WebGPU предоставляет доступ к более сложным функциям GPU, что позволяет реализовывать более комплексные и динамичные графические и вычислительные задачи.
4. **Снижение нагрузки на JavaScript**: Перенося больше задач на GPU, WebGPU значительно уменьшает нагрузку на JavaScript, обеспечивая лучшую производительность и более плавный пользовательский опыт.

В настоящее время WebGPU поддерживается в браузерах, таких как Google Chrome, и ведется работа по расширению поддержки на другие платформы.

### 03.WebGPU
Требуемая среда:

**Поддерживаемые браузеры:** 
- Google Chrome 113+
- Microsoft Edge 113+
- Safari 18 (macOS 15)
- Firefox Nightly.

### Включение WebGPU:

- В Chrome/Microsoft Edge 

Включите флаг `chrome://flags/#enable-unsafe-webgpu`.

#### Откройте браузер:
Запустите Google Chrome или Microsoft Edge.

#### Перейдите на страницу флагов:
Введите в адресной строке `chrome://flags` и нажмите Enter.

#### Найдите флаг:
В верхней части страницы введите в строку поиска 'enable-unsafe-webgpu'.

#### Включите флаг:
Найдите флаг #enable-unsafe-webgpu в списке результатов.

Нажмите на выпадающее меню рядом с ним и выберите Enabled.

#### Перезапустите браузер:

После включения флага вам потребуется перезапустить браузер, чтобы изменения вступили в силу. Нажмите кнопку Relaunch, которая появится в нижней части страницы.

- Для Linux запустите браузер с `--enable-features=Vulkan`.
- Safari 18 (macOS 15) включает WebGPU по умолчанию.
- В Firefox Nightly введите about:config в адресной строке и `set dom.webgpu.enabled to true`.

### Настройка GPU для Microsoft Edge 

Следуйте этим шагам, чтобы настроить высокопроизводительный GPU для Microsoft Edge в Windows:

- **Откройте настройки:** Нажмите на меню Пуск и выберите Настройки.
- **Системные настройки:** Перейдите в раздел Система, затем Дисплей.
- **Настройки графики:** Пролистайте вниз и нажмите на Настройки графики.
- **Выберите приложение:** В разделе «Выберите приложение для настройки», выберите Приложение для рабочего стола и затем Обзор.
- **Выберите Edge:** Перейдите в папку установки Edge (обычно `C:\Program Files (x86)\Microsoft\Edge\Application`) и выберите `msedge.exe`.
- **Настройте предпочтения:** Нажмите Параметры, выберите Высокая производительность и затем нажмите Сохранить.
Это обеспечит использование Microsoft Edge вашего высокопроизводительного GPU для лучшей производительности.
- **Перезагрузите** компьютер, чтобы настройки вступили в силу.

### Откройте свой Codespace:
Перейдите к своему репозиторию на GitHub. 
Нажмите кнопку Code и выберите Open with Codespaces.

Если у вас еще нет Codespace, вы можете создать его, нажав New codespace.

**Примечание** Установка Node-среды в Codespace:
Запуск npm-демо из GitHub Codespace — это отличный способ протестировать и развивать ваш проект. Вот пошаговое руководство:

### Настройте среду:
После открытия Codespace убедитесь, что у вас установлены Node.js и npm. Вы можете проверить это, выполнив команды:
```
node -v
```
```
npm -v
```

Если они не установлены, вы можете установить их с помощью:
```
sudo apt-get update
```
```
sudo apt-get install nodejs npm
```

### Перейдите в каталог вашего проекта:
Используйте терминал, чтобы перейти в каталог, где находится ваш npm-проект:
```
cd path/to/your/project
```

### Установите зависимости:
Выполните следующую команду, чтобы установить все необходимые зависимости, указанные в вашем файле package.json:

```
npm install
```

### Запустите демо:
После установки зависимостей вы можете запустить скрипт демо. Обычно он указан в разделе scripts вашего package.json. Например, если ваш скрипт называется start, вы можете запустить его с помощью:

```
npm run build
```
```
npm run dev
```

### Доступ к демо:
Если ваше демо включает веб-сервер, Codespaces предоставит URL для доступа к нему. Найдите уведомление или проверьте вкладку Ports, чтобы найти URL.

**Примечание:** Модель должна быть кэширована в браузере, поэтому загрузка может занять некоторое время.

### Демо RAG
Загрузите markdown-файл `intro_rag.md` to complete the RAG solution. If using codespaces you can download the file located in `01.InferencePhi3/docs/`.

### Выберите файл:
Нажмите на кнопку «Выбрать файл», чтобы выбрать документ, который вы хотите загрузить.

### Загрузите документ:
После выбора файла нажмите кнопку «Загрузить», чтобы загрузить документ для RAG (Retrieval-Augmented Generation).

### Начните чат:
После загрузки документа вы можете начать сеанс чата с использованием RAG на основе содержимого вашего документа.

**Отказ от ответственности**:  
Этот документ был переведен с использованием автоматизированных сервисов машинного перевода на основе ИИ. Хотя мы стремимся к точности, имейте в виду, что автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникающие в результате использования данного перевода.