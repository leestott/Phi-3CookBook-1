# 貢獻指南

呢個項目歡迎各種貢獻同建議。大部分嘅貢獻需要你同意一份貢獻者許可協議 (CLA)，聲明你有權利並確實授權我哋使用你嘅貢獻。詳細資訊請參閱 [https://cla.opensource.microsoft.com](https://cla.opensource.microsoft.com)

當你提交 pull request 時，一個 CLA bot 會自動判斷你需唔需要提供 CLA，並喺 PR 上加上相應嘅標記（例如，狀態檢查或者留言）。只需要跟住 bot 提供嘅指引操作即可。你只需要喺所有使用 CLA 嘅倉庫中做一次呢個步驟。

## 行為守則

呢個項目採用了 [Microsoft 開源行為守則](https://opensource.microsoft.com/codeofconduct/)。更多資訊請參閱 [行為守則 FAQ](https://opensource.microsoft.com/codeofconduct/faq/)，或者通過 [opencode@microsoft.com](mailto:opencode@microsoft.com) 聯繫我哋提出其他問題或意見。

## 提交問題時需注意嘅事項

請唔好因為一般支持問題而喺 GitHub 提交問題，因為 GitHub 問題列表應該用嚟提交功能請求同程式錯誤報告。咁樣我哋可以更容易追蹤實際嘅問題或錯誤，並將一般討論同實際代碼分開。

## 如何貢獻

### Pull Request 指引

當向 Phi-3 CookBook 倉庫提交 pull request（PR）時，請遵循以下指引：

- **Fork 倉庫**：喺修改之前，請務必 fork 倉庫到你自己嘅帳戶。

- **分開提交 PR**：
  - 每類更改應該分開提交。例如，程式錯誤修復同文檔更新應該分開提交。
  - 打字錯誤修復同輕微嘅文檔更新可以喺適當情況下合併成一個 PR。

- **處理合併衝突**：如果你嘅 PR 出現合併衝突，請更新你本地嘅 `main` 分支，使其同主倉庫同步，再進行修改。

- **翻譯提交**：提交翻譯 PR 時，請確保翻譯文件夾包含原始文件夾中所有文件嘅翻譯。

### 翻譯指引

> [!IMPORTANT]
>
> 喺翻譯呢個倉庫嘅文本時，請唔好使用機器翻譯。只有喺你熟悉嘅語言中志願參與翻譯。

如果你熟悉一種非英文語言，可以幫助翻譯內容。請按照以下步驟確保你嘅翻譯貢獻被正確整合，並遵循以下指引：

- **創建翻譯文件夾**：導航到對應嘅章節文件夾，並為你要翻譯嘅語言創建一個翻譯文件夾。例如：
  - 對於介紹章節：`PhiCookBook/md/01.Introduce/translations/<language_code>/`
  - 對於快速開始章節：`PhiCookBook/md/02.QuickStart/translations/<language_code>/`
  - 其他章節（例如 03.Inference、04.Finetuning 等）同樣操作。

- **更新相對路徑**：翻譯時，通過喺 Markdown 文件中嘅相對路徑前加上 `../../` 來調整文件結構以確保鏈接正確。例如，改為以下：
  - 將 `(../../imgs/01/phi3aisafety.png)` 改為 `(../../../../imgs/01/phi3aisafety.png)`

- **整理翻譯文件**：每個翻譯文件應該放喺相應章節嘅翻譯文件夾中。例如，如果你翻譯介紹章節為西班牙語，你應該創建以下結構：
  - `PhiCookBook/md/01.Introduce/translations/es/`

- **提交完整 PR**：確保每個章節嘅所有翻譯文件都包含喺一個 PR 中。我哋唔接受章節嘅部分翻譯。提交翻譯 PR 時，請確保翻譯文件夾包含原始文件夾中所有文件嘅翻譯。

### 編寫指引

為咗確保所有文件格式一致，請遵循以下指引：

- **URL 格式化**：用方括號包住所有 URL，然後用括號括住，並且唔好喺內外加額外空格。例如：`[example](https://www.microsoft.com)`。

- **相對鏈接**：對指向當前目錄中文件或文件夾嘅相對鏈接使用 `./`，對父目錄使用 `../`。例如：`[example](../../path/to/file)` 或 `[example](../../../path/to/file)`。

- **非國家特定嘅語言區域**：確保你嘅鏈接中唔包含國家特定嘅語言區域。例如，避免使用 `/en-us/` 或 `/en/`。

- **圖片存儲**：將所有圖片存喺 `./imgs` 文件夾。

- **描述性圖片名稱**：用英文字符、數字同連字符命名圖片。例如：`example-image.jpg`。

## GitHub 工作流

當你提交 pull request 時，以下工作流將會被觸發以驗證更改。按照以下指引確保你嘅 PR 通過工作流檢查：

- [檢查損壞嘅相對路徑](../..)
- [檢查 URL 唔包含語言區域](../..)

### 檢查損壞嘅相對路徑

呢個工作流確保你文件中嘅所有相對路徑都正確。

1. 喺 VS Code 中執行以下操作以確保鏈接正常：
    - 對文件中嘅任何鏈接懸停。
    - 按 **Ctrl + Click** 進入鏈接。
    - 如果你點擊鏈接後無法本地訪問，呢個問題將會觸發工作流並喺 GitHub 上失效。

2. 使用 VS Code 提供嘅路徑建議修復問題：
    - 輸入 `./` 或 `../`。
    - VS Code 會根據你嘅輸入提示可用選項。
    - 點擊所需文件或文件夾以確保路徑正確。

一旦你添加咗正確嘅相對路徑，保存並推送更改。

### 檢查 URL 唔包含語言區域

呢個工作流確保所有網絡 URL 唔包含國家特定嘅語言區域。由於呢個倉庫係全球可訪問嘅，確保 URL 中唔包含國家語言區域非常重要。

1. 驗證 URL 唔包含國家語言區域，執行以下操作：

    - 檢查 URL 中是否包含類似 `/en-us/`、`/en/` 或其他語言區域嘅文本。
    - 如果 URL 中無呢啲語言區域，咁你就會通過呢個檢查。

2. 修復問題，執行以下操作：
    - 打開工作流標註嘅文件路徑。
    - 移除 URL 中嘅國家語言區域。

一旦你移除咗國家語言區域，保存並推送更改。

### 檢查損壞嘅 URL

呢個工作流確保文件中所有網絡 URL 都能正常運行並返回 200 狀態碼。

1. 驗證 URL 是否正常運行，執行以下操作：
    - 檢查文件中 URL 嘅狀態。

2. 修復損壞嘅 URL，執行以下操作：
    - 打開包含損壞 URL 嘅文件。
    - 更新 URL 為正確嘅。

一旦你修復咗 URL，保存並推送更改。

> [!NOTE]
>
> 有時候 URL 檢查可能會失敗，即使鏈接可以訪問。呢種情況可能因以下原因發生：
>
> - **網絡限制**：GitHub Actions 服務器可能有網絡限制，無法訪問某些 URL。
> - **超時問題**：回應時間過長嘅 URL 可能喺工作流中觸發超時錯誤。
> - **臨時服務器問題**：服務器短暫停機或維護可能導致 URL 喺驗證期間暫時無法訪問。

**免責聲明**:  
本文件使用機器翻譯人工智能服務進行翻譯。我們致力於提供準確的翻譯，但請注意，自動翻譯可能包含錯誤或不準確之處。原始語言的文件應被視為具權威性的來源。對於關鍵資訊，建議尋求專業的人手翻譯。我們對因使用本翻譯而引起的任何誤解或錯誤解釋概不負責。