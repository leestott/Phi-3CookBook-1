Phi-3-mini WebGPU RAG Chatbot

## เดโมสำหรับแสดงการทำงานของ WebGPU และรูปแบบ RAG
รูปแบบ RAG ที่ใช้โมเดล Phi-3 Onnx Hosted นำแนวทาง Retrieval-Augmented Generation มาผสมผสานกับพลังของโมเดล Phi-3 และการโฮสต์ด้วย ONNX เพื่อการใช้งาน AI ที่มีประสิทธิภาพ รูปแบบนี้เหมาะสำหรับการปรับแต่งโมเดลให้เหมาะกับงานเฉพาะทาง โดยให้ทั้งคุณภาพ ความคุ้มค่า และความเข้าใจบริบทที่ยาวนาน เป็นส่วนหนึ่งของ Azure AI ที่มีโมเดลหลากหลายให้เลือกใช้งานได้ง่าย รองรับความต้องการในการปรับแต่งของอุตสาหกรรมต่าง ๆ โมเดล Phi-3 เช่น Phi-3-mini, Phi-3-small และ Phi-3-medium มีให้ใช้งานใน Azure AI Model Catalog และสามารถปรับแต่งและปรับใช้ได้ทั้งแบบจัดการเองหรือผ่านแพลตฟอร์มต่าง ๆ เช่น HuggingFace และ ONNX ซึ่งแสดงถึงความมุ่งมั่นของ Microsoft ในการทำให้ AI เข้าถึงได้ง่ายและมีประสิทธิภาพ

## WebGPU คืออะไร
WebGPU เป็น API กราฟิกบนเว็บที่ทันสมัย ออกแบบมาเพื่อให้เข้าถึงหน่วยประมวลผลกราฟิก (GPU) ของอุปกรณ์ได้อย่างมีประสิทธิภาพโดยตรงจากเบราว์เซอร์บนเว็บ ซึ่งเป็นตัวต่อยอดจาก WebGL โดยมีการปรับปรุงที่สำคัญหลายประการ:

1. **รองรับ GPU สมัยใหม่**: WebGPU ถูกออกแบบมาให้ทำงานร่วมกับสถาปัตยกรรม GPU ที่ทันสมัยได้อย่างไร้รอยต่อ โดยใช้ API ระบบ เช่น Vulkan, Metal และ Direct3D 12
2. **ประสิทธิภาพที่เพิ่มขึ้น**: รองรับการคำนวณทั่วไปบน GPU และการทำงานที่รวดเร็วขึ้น ทำให้เหมาะสำหรับทั้งการเรนเดอร์กราฟิกและงานแมชชีนเลิร์นนิง
3. **ฟีเจอร์ขั้นสูง**: ให้การเข้าถึงความสามารถของ GPU ที่ซับซ้อนมากขึ้น รองรับการทำงานที่มีความซับซ้อนและไดนามิก
4. **ลดภาระงานของ JavaScript**: ด้วยการถ่ายโอนงานไปยัง GPU มากขึ้น WebGPU ช่วยลดภาระงานของ JavaScript อย่างมาก ทำให้ประสิทธิภาพดีขึ้นและประสบการณ์การใช้งานราบรื่นขึ้น

ปัจจุบัน WebGPU รองรับในเบราว์เซอร์ เช่น Google Chrome และกำลังอยู่ในระหว่างการพัฒนาสำหรับแพลตฟอร์มอื่น ๆ

### 03.WebGPU
สภาพแวดล้อมที่ต้องการ:

**เบราว์เซอร์ที่รองรับ:**
- Google Chrome 113+
- Microsoft Edge 113+
- Safari 18 (macOS 15)
- Firefox Nightly

### การเปิดใช้งาน WebGPU:

- ใน Chrome/Microsoft Edge

เปิดใช้งาน `chrome://flags/#enable-unsafe-webgpu`

#### เปิดเบราว์เซอร์ของคุณ:
เปิด Google Chrome หรือ Microsoft Edge

#### เข้าสู่หน้าการตั้งค่า Flags:
ในแถบที่อยู่ ให้พิมพ์ `chrome://flags` แล้วกด Enter

#### ค้นหา Flag:
ในช่องค้นหาด้านบนของหน้า ให้พิมพ์ 'enable-unsafe-webgpu'

#### เปิดใช้งาน Flag:
ค้นหา #enable-unsafe-webgpu ในรายการผลลัพธ์

คลิกเมนูแบบเลื่อนลงข้าง ๆ และเลือก Enabled

#### รีสตาร์ทเบราว์เซอร์ของคุณ:

หลังจากเปิดใช้งาน Flag คุณจะต้องรีสตาร์ทเบราว์เซอร์เพื่อให้การเปลี่ยนแปลงมีผล คลิกปุ่ม Relaunch ที่ปรากฏด้านล่างของหน้า

- สำหรับ Linux ให้เปิดเบราว์เซอร์ด้วย `--enable-features=Vulkan`
- Safari 18 (macOS 15) เปิดใช้งาน WebGPU โดยค่าเริ่มต้น
- ใน Firefox Nightly ให้พิมพ์ about:config ในแถบที่อยู่และ `set dom.webgpu.enabled to true`

### การตั้งค่า GPU สำหรับ Microsoft Edge

ขั้นตอนการตั้งค่า GPU ประสิทธิภาพสูงสำหรับ Microsoft Edge บน Windows:

- **เปิดการตั้งค่า:** คลิกที่เมนู Start และเลือก Settings
- **การตั้งค่าระบบ:** ไปที่ System แล้วเลือก Display
- **การตั้งค่ากราฟิก:** เลื่อนลงมาและคลิก Graphics settings
- **เลือกแอป:** ภายใต้ “Choose an app to set preference” ให้เลือก Desktop app แล้วคลิก Browse
- **เลือก Edge:** ไปที่โฟลเดอร์ติดตั้ง Edge (ปกติคือ `C:\Program Files (x86)\Microsoft\Edge\Application`) และเลือก `msedge.exe`
- **ตั้งค่าความต้องการ:** คลิก Options เลือก High performance แล้วคลิก Save
เพื่อให้ Microsoft Edge ใช้ GPU ประสิทธิภาพสูงสำหรับการทำงานที่ดีขึ้น
- **รีสตาร์ท** เครื่องเพื่อให้การตั้งค่ามีผล

### เปิด Codespace ของคุณ:
ไปที่ repository บน GitHub
คลิกปุ่ม Code แล้วเลือก Open with Codespaces

หากคุณยังไม่มี Codespace คุณสามารถสร้างใหม่ได้โดยคลิก New codespace

**หมายเหตุ** การติดตั้ง Node Environment ใน Codespace ของคุณ
การรัน npm demo จาก GitHub Codespace เป็นวิธีที่ดีในการทดสอบและพัฒนาโปรเจกต์ของคุณ นี่คือคำแนะนำทีละขั้นตอน:

### ตั้งค่าสภาพแวดล้อมของคุณ:
เมื่อ Codespace เปิดขึ้น ให้ตรวจสอบว่าคุณมี Node.js และ npm ติดตั้งอยู่หรือไม่ คุณสามารถตรวจสอบได้โดยรัน:
```
node -v
```
```
npm -v
```

หากยังไม่ได้ติดตั้ง คุณสามารถติดตั้งได้โดยใช้:
```
sudo apt-get update
```
```
sudo apt-get install nodejs npm
```

### ไปยังไดเรกทอรีโปรเจกต์ของคุณ:
ใช้ terminal เพื่อไปยังไดเรกทอรีที่มีโปรเจกต์ npm ของคุณ:
```
cd path/to/your/project
```

### ติดตั้ง Dependencies:
รันคำสั่งต่อไปนี้เพื่อติดตั้ง dependencies ที่จำเป็นทั้งหมดที่ระบุไว้ในไฟล์ package.json ของคุณ:

```
npm install
```

### รันเดโม:
เมื่อ dependencies ติดตั้งเสร็จแล้ว คุณสามารถรันสคริปต์เดโมได้ โดยปกติจะระบุไว้ในส่วน scripts ของไฟล์ package.json ตัวอย่างเช่น หากสคริปต์เดโมของคุณชื่อ start คุณสามารถรันได้ดังนี้:

```
npm run build
```
```
npm run dev
```

### เข้าถึงเดโม:
หากเดโมของคุณเกี่ยวข้องกับเว็บเซิร์ฟเวอร์ Codespaces จะให้ URL เพื่อเข้าถึงมัน ค้นหาการแจ้งเตือนหรือไปที่แท็บ Ports เพื่อหา URL

**หมายเหตุ:** โมเดลจำเป็นต้องถูกแคชในเบราว์เซอร์ อาจใช้เวลาสักครู่ในการโหลด

### RAG Demo
อัปโหลดไฟล์ markdown `intro_rag.md` to complete the RAG solution. If using codespaces you can download the file located in `01.InferencePhi3/docs/`

### เลือกไฟล์ของคุณ:
คลิกปุ่ม “Choose File” เพื่อเลือกเอกสารที่คุณต้องการอัปโหลด

### อัปโหลดเอกสาร:
หลังจากเลือกไฟล์แล้ว คลิกปุ่ม “Upload” เพื่อโหลดเอกสารของคุณสำหรับ RAG (Retrieval-Augmented Generation)

### เริ่มแชทของคุณ:
เมื่ออัปโหลดเอกสารเสร็จแล้ว คุณสามารถเริ่มเซสชันแชทโดยใช้ RAG ตามเนื้อหาของเอกสารของคุณ

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษาอัตโนมัติด้วย AI แม้ว่าเราจะพยายามให้การแปลมีความถูกต้องมากที่สุด แต่โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่แม่นยำ เอกสารต้นฉบับในภาษาต้นทางควรถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่สำคัญ ขอแนะนำให้ใช้บริการแปลภาษาจากมนุษย์ที่มีความเชี่ยวชาญ เราจะไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความที่คลาดเคลื่อนซึ่งเกิดจากการใช้การแปลนี้