# ইন্টারঅ্যাকটিভ ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট চ্যাটবট উইথ হুইস্পার

## ওভারভিউ

ইন্টারঅ্যাকটিভ ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট চ্যাটবট একটি টুল যা ব্যবহারকারীদের মাইক্রোসফট ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট ডেমোর সাথে টেক্সট বা অডিও ইনপুটের মাধ্যমে ইন্টারঅ্যাক্ট করতে দেয়। এই চ্যাটবট বিভিন্ন কাজে ব্যবহার করা যেতে পারে, যেমন অনুবাদ, আবহাওয়ার আপডেট এবং সাধারণ তথ্য সংগ্রহ।

### শুরু করার ধাপ

এই চ্যাটবট ব্যবহার করতে নিম্নলিখিত ধাপগুলো অনুসরণ করুন:

1. একটি নতুন [E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb](https://github.com/microsoft/Phi-3CookBook/blob/main/code/06.E2E/E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb) খুলুন।
2. নোটবুকের মূল উইন্ডোতে একটি চ্যাটবক্স ইন্টারফেস দেখতে পাবেন যেখানে একটি টেক্সট ইনপুট বক্স এবং একটি "Send" বোতাম থাকবে।
3. টেক্সট-ভিত্তিক চ্যাটবট ব্যবহার করতে, টেক্সট ইনপুট বক্সে আপনার বার্তা টাইপ করুন এবং "Send" বোতামে ক্লিক করুন। চ্যাটবট একটি অডিও ফাইলের মাধ্যমে সাড়া দেবে যা সরাসরি নোটবুক থেকে প্লে করা যাবে।

**নোট**: এই টুলটি চালানোর জন্য একটি GPU এবং মাইক্রোসফট ফাই-৩ এবং ওপেনএআই হুইস্পার মডেলের অ্যাক্সেস প্রয়োজন, যা স্পিচ রিকগনিশন এবং অনুবাদের জন্য ব্যবহৃত হয়।

### GPU এর প্রয়োজনীয়তা

এই ডেমো চালানোর জন্য ১২জিবি GPU মেমোরি প্রয়োজন।

**Microsoft-Phi-3-Mini-4K instruct** ডেমো GPU-তে চালানোর জন্য মেমোরি প্রয়োজনীয়তা নির্ভর করবে বিভিন্ন বিষয়ে, যেমন ইনপুট ডেটার আকার (অডিও বা টেক্সট), অনুবাদের ভাষা, মডেলের গতি, এবং GPU-র উপলব্ধ মেমোরি।

সাধারণত, হুইস্পার মডেল GPU-তে চালানোর জন্য ডিজাইন করা হয়েছে। হুইস্পার মডেল চালানোর জন্য ন্যূনতম প্রয়োজনীয় GPU মেমোরি ৮ জিবি, তবে প্রয়োজন হলে এটি আরও বেশি মেমোরি ব্যবহার করতে পারে।

বড় পরিমাণ ডেটা বা মডেলে উচ্চ ভলিউমের অনুরোধ চালানোর সময় অতিরিক্ত GPU মেমোরি প্রয়োজন হতে পারে এবং/অথবা কর্মক্ষমতার সমস্যার সম্মুখীন হতে পারে। আপনার নির্দিষ্ট প্রয়োজনের জন্য সর্বোত্তম সেটিংস নির্ধারণ করতে বিভিন্ন কনফিগারেশন দিয়ে আপনার ব্যবহার কেস পরীক্ষা করা এবং মেমোরি ব্যবহারের উপর নজর রাখা সুপারিশ করা হয়।

## ইন্টারঅ্যাকটিভ ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট চ্যাটবট উইথ হুইস্পার-এর জন্য E2E নমুনা

[ইন্টারঅ্যাকটিভ ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট চ্যাটবট উইথ হুইস্পার](https://github.com/microsoft/Phi-3CookBook/blob/main/code/06.E2E/E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb) শিরোনামের জুপিটার নোটবুকটি দেখায় কীভাবে মাইক্রোসফট ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট ডেমো ব্যবহার করে অডিও বা লেখা টেক্সট ইনপুট থেকে টেক্সট তৈরি করা যায়। নোটবুকটি কয়েকটি ফাংশন সংজ্ঞায়িত করে:

1. `tts_file_name(text)`: এই ফাংশন ইনপুট টেক্সটের উপর ভিত্তি করে একটি ফাইলের নাম তৈরি করে যা তৈরি করা অডিও ফাইলটি সংরক্ষণ করতে ব্যবহৃত হয়।
1. `edge_free_tts(chunks_list,speed,voice_name,save_path)`: এই ফাংশন Edge TTS API ব্যবহার করে ইনপুট টেক্সটের টুকরাগুলোর একটি তালিকা থেকে একটি অডিও ফাইল তৈরি করে। ইনপুট প্যারামিটারগুলো হলো টুকরাগুলোর তালিকা, স্পিচ রেট, ভয়েস নাম, এবং তৈরি করা অডিও ফাইল সংরক্ষণের জন্য আউটপুট পাথ।
1. `talk(input_text)`: এই ফাংশন Edge TTS API ব্যবহার করে একটি অডিও ফাইল তৈরি করে এবং এটি /content/audio ডিরেক্টরিতে একটি র‍্যান্ডম ফাইল নামে সংরক্ষণ করে। ইনপুট প্যারামিটার হলো স্পিচে রূপান্তর করার জন্য ইনপুট টেক্সট।
1. `run_text_prompt(message, chat_history)`: এই ফাংশন মাইক্রোসফট ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট ডেমো ব্যবহার করে একটি অডিও ফাইল তৈরি করে এবং এটি চ্যাট ইতিহাসে যোগ করে।
1. `run_audio_prompt(audio, chat_history)`: এই ফাংশন হুইস্পার মডেল API ব্যবহার করে একটি অডিও ফাইলকে টেক্সটে রূপান্তর করে এবং এটি `run_text_prompt()` ফাংশনে পাঠায়।
1. কোডটি একটি গ্রাডিও অ্যাপ চালু করে যা ব্যবহারকারীদের ফাই ৩ মিনি ৪কে ইনস্ট্রাক্ট ডেমোর সাথে বার্তা টাইপ করে বা অডিও ফাইল আপলোড করে ইন্টারঅ্যাক্ট করতে দেয়। আউটপুট অ্যাপের মধ্যে একটি টেক্সট বার্তা হিসেবে প্রদর্শিত হয়।

## সমস্যার সমাধান

Cuda GPU ড্রাইভার ইনস্টল করা

1. নিশ্চিত করুন আপনার লিনাক্স অ্যাপ্লিকেশন আপ টু ডেট রয়েছে।

    ```bash
    sudo apt update
    ```

1. Cuda ড্রাইভার ইনস্টল করুন।

    ```bash
    sudo apt install nvidia-cuda-toolkit
    ```

1. Cuda ড্রাইভার লোকেশন নিবন্ধন করুন।

    ```bash
    echo /usr/lib64-nvidia/ >/etc/ld.so.conf.d/libcuda.conf; ldconfig
    ```

1. Nvidia GPU মেমোরি সাইজ চেক করা (১২জিবি GPU মেমোরি প্রয়োজন)।

    ```bash
    nvidia-smi
    ```

1. ক্যাশ খালি করা: আপনি যদি PyTorch ব্যবহার করেন, তাহলে torch.cuda.empty_cache() কল করে সমস্ত অব্যবহৃত ক্যাশড মেমোরি মুক্ত করতে পারেন যাতে এটি অন্য GPU অ্যাপ্লিকেশনের জন্য ব্যবহার করা যায়।

    ```python
    torch.cuda.empty_cache() 
    ```

1. Nvidia Cuda চেক করা।

    ```bash
    nvcc --version
    ```

1. একটি হাগিং ফেস টোকেন তৈরি করতে নিম্নলিখিত কাজগুলো সম্পন্ন করুন:

    - [Hugging Face Token Settings page](https://huggingface.co/settings/tokens?WT.mc_id=aiml-137032-kinfeylo)-এ যান।
    - **New token** নির্বাচন করুন।
    - আপনি যে প্রকল্পের **Name** ব্যবহার করতে চান তা লিখুন।
    - **Type**-এ **Write** নির্বাচন করুন।

> **নোট**
>
> আপনি যদি নিম্নলিখিত ত্রুটির সম্মুখীন হন:
>
> ```bash
> /sbin/ldconfig.real: Can't create temporary cache file /etc/ld.so.cache~: Permission denied 
> ```
>
> এটি সমাধানের জন্য, আপনার টার্মিনালে নিম্নলিখিত কমান্ডটি টাইপ করুন:
>
> ```bash
> sudo ldconfig
> ```

**অস্বীকৃতি**:  
এই নথিটি মেশিন-ভিত্তিক এআই অনুবাদ পরিষেবার মাধ্যমে অনুবাদ করা হয়েছে। আমরা যথাসম্ভব সঠিকতার জন্য চেষ্টা করি, তবে দয়া করে মনে রাখুন যে স্বয়ংক্রিয় অনুবাদে ত্রুটি বা অসংগতি থাকতে পারে। মূল ভাষায় থাকা আসল নথিটিকেই প্রামাণিক উৎস হিসেবে বিবেচনা করা উচিত। গুরুত্বপূর্ণ তথ্যের জন্য, পেশাদার মানব অনুবাদ গ্রহণের পরামর্শ দেওয়া হচ্ছে। এই অনুবাদের ব্যবহার থেকে উদ্ভূত কোনো ভুল বোঝাবুঝি বা ভুল ব্যাখ্যার জন্য আমরা দায়বদ্ধ নই।