Phi-3-mini WebGPU RAG Chatbot

## دمویی برای نمایش WebGPU و الگوی RAG
الگوی RAG با مدل میزبانی شده Phi-3 Onnx از رویکرد تولید مبتنی بر بازیابی (Retrieval-Augmented Generation) بهره می‌برد، که قدرت مدل‌های Phi-3 را با میزبانی ONNX ترکیب می‌کند تا استقرارهای هوش مصنوعی کارآمدی ارائه دهد. این الگو در تنظیم دقیق مدل‌ها برای وظایف خاص دامنه بسیار مؤثر است و ترکیبی از کیفیت، مقرون‌به‌صرفه بودن و درک متون طولانی را ارائه می‌دهد. این بخشی از مجموعه Azure AI است که مدل‌های متنوعی را فراهم می‌کند که به راحتی قابل پیدا کردن، آزمایش و استفاده هستند و نیازهای سفارشی‌سازی صنایع مختلف را برآورده می‌کنند. مدل‌های Phi-3، از جمله Phi-3-mini، Phi-3-small و Phi-3-medium، در کاتالوگ مدل Azure AI موجود هستند و می‌توانند به صورت خودگردان یا از طریق پلتفرم‌هایی مانند HuggingFace و ONNX تنظیم و مستقر شوند، که تعهد مایکروسافت به ارائه راه‌حل‌های هوش مصنوعی قابل دسترس و کارآمد را نشان می‌دهد.

## WebGPU چیست؟
WebGPU یک API مدرن گرافیکی برای وب است که طراحی شده تا دسترسی کارآمد به واحد پردازش گرافیکی (GPU) دستگاه را مستقیماً از مرورگرهای وب فراهم کند. این API به عنوان جانشینی برای WebGL در نظر گرفته شده و چندین بهبود کلیدی ارائه می‌دهد:

1. **سازگاری با GPUهای مدرن**: WebGPU برای کار بدون مشکل با معماری‌های مدرن GPU طراحی شده و از APIهای سیستمی مانند Vulkan، Metal و Direct3D 12 بهره می‌برد.
2. **عملکرد بهبود یافته**: این API از محاسبات عمومی GPU و عملیات سریع‌تر پشتیبانی می‌کند، که آن را برای رندر گرافیکی و وظایف یادگیری ماشین مناسب می‌سازد.
3. **ویژگی‌های پیشرفته**: WebGPU دسترسی به قابلیت‌های پیشرفته‌تر GPU را فراهم می‌کند، که امکان اجرای بارهای کاری گرافیکی و محاسباتی پیچیده‌تر و پویاتر را می‌دهد.
4. **کاهش بار کاری JavaScript**: با انتقال وظایف بیشتر به GPU، WebGPU بار کاری JavaScript را به طور قابل توجهی کاهش داده و منجر به عملکرد بهتر و تجربه‌های روان‌تر می‌شود.

WebGPU در حال حاضر در مرورگرهایی مانند Google Chrome پشتیبانی می‌شود و کار برای گسترش پشتیبانی به سایر پلتفرم‌ها در جریان است.

### 03.WebGPU
محیط مورد نیاز:

**مرورگرهای پشتیبانی‌شده:**  
- Google Chrome 113+  
- Microsoft Edge 113+  
- Safari 18 (macOS 15)  
- Firefox Nightly  

### فعال‌سازی WebGPU:

- در Chrome/Microsoft Edge  

پرچم `chrome://flags/#enable-unsafe-webgpu` را فعال کنید.

#### مرورگر خود را باز کنید:
Google Chrome یا Microsoft Edge را اجرا کنید.

#### دسترسی به صفحه پرچم‌ها:
در نوار آدرس، `chrome://flags` را تایپ کرده و Enter را بزنید.

#### جستجوی پرچم:
در کادر جستجوی بالای صفحه، عبارت 'enable-unsafe-webgpu' را تایپ کنید.

#### فعال‌سازی پرچم:
پرچم #enable-unsafe-webgpu را در لیست نتایج پیدا کنید.

از منوی کشویی کنار آن گزینه Enabled را انتخاب کنید.

#### راه‌اندازی مجدد مرورگر:

پس از فعال‌سازی پرچم، باید مرورگر خود را برای اعمال تغییرات راه‌اندازی مجدد کنید. روی دکمه Relaunch که در پایین صفحه ظاهر می‌شود کلیک کنید.

- برای لینوکس، مرورگر را با `--enable-features=Vulkan` اجرا کنید.
- Safari 18 (macOS 15) به طور پیش‌فرض WebGPU را فعال کرده است.
- در Firefox Nightly، عبارت about:config را در نوار آدرس وارد کرده و `set dom.webgpu.enabled to true`.

### تنظیم GPU برای Microsoft Edge  

در اینجا مراحل تنظیم یک GPU با عملکرد بالا برای Microsoft Edge در ویندوز آمده است:

- **باز کردن تنظیمات:** روی منوی Start کلیک کرده و Settings را انتخاب کنید.  
- **تنظیمات سیستم:** به System و سپس Display بروید.  
- **تنظیمات گرافیکی:** به پایین بروید و روی Graphics settings کلیک کنید.  
- **انتخاب برنامه:** زیر "Choose an app to set preference"، گزینه Desktop app را انتخاب کرده و سپس Browse را بزنید.  
- **انتخاب Edge:** به پوشه نصب Edge (معمولاً `C:\Program Files (x86)\Microsoft\Edge\Application`) بروید و `msedge.exe` را انتخاب کنید.  
- **تنظیم اولویت:** روی Options کلیک کنید، High performance را انتخاب کنید و سپس Save را بزنید.  
این کار اطمینان می‌دهد که Microsoft Edge از GPU با عملکرد بالای شما برای عملکرد بهتر استفاده می‌کند.  
- **راه‌اندازی مجدد** دستگاه خود برای اعمال این تنظیمات.  

### باز کردن Codespace:
به مخزن خود در GitHub بروید.  
روی دکمه Code کلیک کرده و گزینه Open with Codespaces را انتخاب کنید.  

اگر هنوز Codespace ندارید، می‌توانید با کلیک روی New codespace یکی ایجاد کنید.  

**توجه:** نصب محیط Node در Codespace  
اجرای یک دموی npm از یک Codespace GitHub راهی عالی برای آزمایش و توسعه پروژه شما است. در اینجا راهنمای گام به گام آورده شده است:

### تنظیم محیط:
وقتی Codespace شما باز است، مطمئن شوید که Node.js و npm نصب شده‌اند. می‌توانید این را با اجرای دستورات زیر بررسی کنید:  
```
node -v
```  
```
npm -v
```  

اگر نصب نشده‌اند، می‌توانید آن‌ها را با دستورات زیر نصب کنید:  
```
sudo apt-get update
```  
```
sudo apt-get install nodejs npm
```  

### رفتن به دایرکتوری پروژه:
از ترمینال برای رفتن به دایرکتوری که پروژه npm شما در آن قرار دارد استفاده کنید:  
```
cd path/to/your/project
```  

### نصب وابستگی‌ها:
دستور زیر را اجرا کنید تا تمام وابستگی‌های لازم که در فایل package.json شما لیست شده‌اند نصب شوند:  

```
npm install
```  

### اجرای دمو:
پس از نصب وابستگی‌ها، می‌توانید اسکریپت دموی خود را اجرا کنید. این معمولاً در بخش scripts فایل package.json مشخص شده است. به عنوان مثال، اگر اسکریپت دمو شما start نام دارد، می‌توانید با اجرای دستور زیر آن را اجرا کنید:  

```
npm run build
```  
```
npm run dev
```  

### دسترسی به دمو:
اگر دموی شما شامل یک سرور وب است، Codespaces یک URL برای دسترسی به آن فراهم می‌کند. به دنبال یک اعلان بگردید یا تب Ports را بررسی کنید تا URL را پیدا کنید.  

**توجه:** مدل باید در مرورگر ذخیره شود، بنابراین ممکن است مدتی طول بکشد تا بارگذاری شود.  

### دمو RAG
فایل markdown با نام `intro_rag.md` to complete the RAG solution. If using codespaces you can download the file located in `01.InferencePhi3/docs/` را آپلود کنید.

### انتخاب فایل:
روی دکمه‌ای که می‌گوید "Choose File" کلیک کنید تا سندی را که می‌خواهید آپلود کنید انتخاب کنید.

### آپلود سند:
پس از انتخاب فایل، روی دکمه "Upload" کلیک کنید تا سند شما برای RAG (تولید مبتنی بر بازیابی) بارگذاری شود.

### شروع چت:
پس از بارگذاری سند، می‌توانید یک جلسه چت را با استفاده از RAG بر اساس محتوای سند خود آغاز کنید.

**سلب مسئولیت**:  
این سند با استفاده از خدمات ترجمه ماشینی مبتنی بر هوش مصنوعی ترجمه شده است. در حالی که ما برای دقت تلاش می‌کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است حاوی خطاها یا نادرستی‌هایی باشند. سند اصلی به زبان اصلی خود باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما هیچ مسئولیتی در قبال سوءتفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.