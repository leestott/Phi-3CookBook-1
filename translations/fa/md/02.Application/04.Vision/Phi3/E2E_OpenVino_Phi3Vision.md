این دمو نشان می‌دهد چگونه می‌توان از یک مدل از پیش آموزش‌دیده برای تولید کد پایتون بر اساس یک تصویر و یک متن استفاده کرد.

[Sample Code](../../../../../../code/06.E2E/E2E_OpenVino_Phi3-vision.ipynb)

در اینجا توضیح گام‌به‌گام آورده شده است:

1. **ایمپورت‌ها و تنظیمات**:
   - کتابخانه‌ها و ماژول‌های مورد نیاز وارد می‌شوند، از جمله `requests`، `PIL` برای پردازش تصویر، و `transformers` برای مدیریت مدل و پردازش.

2. **بارگذاری و نمایش تصویر**:
   - یک فایل تصویر (`demo.png`) با استفاده از کتابخانه `PIL` باز و نمایش داده می‌شود.

3. **تعریف پیام (Prompt)**:
   - یک پیام ایجاد می‌شود که شامل تصویر و یک درخواست برای تولید کد پایتون برای پردازش تصویر و ذخیره آن با استفاده از `plt` (matplotlib) است.

4. **بارگذاری پردازشگر**:
   - `AutoProcessor` از یک مدل از پیش آموزش‌دیده که در دایرکتوری `out_dir` مشخص شده است، بارگذاری می‌شود. این پردازشگر ورودی‌های متن و تصویر را مدیریت می‌کند.

5. **ایجاد پیام (Prompt)**:
   - متد `apply_chat_template` برای فرمت کردن پیام به صورت یک ورودی مناسب برای مدل استفاده می‌شود.

6. **پردازش ورودی‌ها**:
   - پیام و تصویر به تنسورهایی تبدیل می‌شوند که مدل قادر به درک آن‌ها باشد.

7. **تنظیم آرگومان‌های تولید**:
   - آرگومان‌هایی برای فرآیند تولید مدل تعریف می‌شوند، از جمله حداکثر تعداد توکن‌های جدیدی که باید تولید شوند و اینکه آیا خروجی به صورت نمونه‌گیری باشد یا خیر.

8. **تولید کد**:
   - مدل بر اساس ورودی‌ها و آرگومان‌های تولید، کد پایتون را تولید می‌کند. `TextStreamer` برای مدیریت خروجی استفاده می‌شود، به طوری که پیام و توکن‌های خاص حذف شوند.

9. **خروجی**:
   - کد تولیدشده چاپ می‌شود که باید شامل کد پایتون برای پردازش تصویر و ذخیره آن طبق درخواست پیام باشد.

این دمو نشان می‌دهد چگونه می‌توان از یک مدل از پیش آموزش‌دیده با استفاده از OpenVino برای تولید پویا کد بر اساس ورودی کاربر و تصاویر استفاده کرد.

**سلب مسئولیت**:  
این سند با استفاده از خدمات ترجمه ماشینی مبتنی بر هوش مصنوعی ترجمه شده است. در حالی که ما تلاش می‌کنیم دقت را رعایت کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است حاوی خطاها یا نادقتی‌هایی باشند. سند اصلی به زبان بومی آن باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه انسانی حرفه‌ای توصیه می‌شود. ما مسئولیتی در قبال سوءتفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.