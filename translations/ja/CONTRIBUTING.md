# コントリビューション

このプロジェクトは、コントリビューションや提案を歓迎します。ほとんどのコントリビューションには、Contributor License Agreement (CLA) に同意する必要があります。これは、あなたがそのコントリビューションを使用する権利を当プロジェクトに与えることを宣言するものです。詳細は、[https://cla.opensource.microsoft.com](https://cla.opensource.microsoft.com) をご覧ください。

プルリクエストを送信すると、CLAボットが自動的にCLAが必要かどうかを判断し、PRに適切なステータス（例：ステータスチェックやコメント）を付けます。ボットが提供する指示に従うだけでOKです。この手続きは、CLAを利用するすべてのリポジトリで一度だけ行えば済みます。

## 行動規範

このプロジェクトは、[Microsoft Open Source Code of Conduct](https://opensource.microsoft.com/codeofconduct/) を採用しています。詳細は、[Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/) をお読みいただくか、追加の質問やコメントがあれば [opencode@microsoft.com](mailto:opencode@microsoft.com) にお問い合わせください。

## Issue 作成時の注意点

一般的なサポートに関する質問のために GitHub Issue を作成しないでください。GitHub のリストは、機能リクエストやバグ報告のために使用してください。このようにすることで、実際の問題やバグをコードから追跡しやすくなり、一般的な議論をコードから分離することができます。

## コントリビューション方法

### プルリクエストのガイドライン

Phi-3 CookBook リポジトリにプルリクエスト（PR）を送信する際は、以下のガイドラインに従ってください：

- **リポジトリのフォーク**: 変更を加える前に、必ずリポジトリを自分のアカウントにフォークしてください。

- **プルリクエストの分割**:
  - 各タイプの変更を個別のプルリクエストで送信してください。例えば、バグ修正とドキュメント更新は別々のPRで送信してください。
  - タイポ修正や小規模なドキュメント更新は、適切であれば1つのPRにまとめても構いません。

- **マージコンフリクトの対応**: プルリクエストにマージコンフリクトがある場合は、ローカルの `main` ブランチをメインリポジトリに合わせて更新し、変更を加えてください。

- **翻訳の提出**: 翻訳PRを送信する際は、翻訳フォルダにオリジナルフォルダ内のすべてのファイルの翻訳を含めてください。

### 翻訳ガイドライン

> [!IMPORTANT]
>
> このリポジトリのテキストを翻訳する際は、機械翻訳を使用しないでください。翻訳する言語に精通している場合のみ、翻訳を担当してください。

英語以外の言語に精通している場合は、コンテンツの翻訳を手伝うことができます。翻訳を正しく統合するために、以下の手順に従ってください：

- **翻訳フォルダの作成**: 適切なセクションフォルダに移動し、翻訳する言語用の翻訳フォルダを作成してください。例えば：
  - 導入セクションの場合：`Phi-3CookBook/md/01.Introduce/translations/<language_code>/`
  - クイックスタートセクションの場合：`Phi-3CookBook/md/02.QuickStart/translations/<language_code>/`
  - 他のセクション（03.Inference、04.Finetuningなど）についても同様のパターンを続けてください。

- **相対パスの更新**: 翻訳する際は、Markdownファイル内の相対パスのフォルダ構造を調整し、リンクが正しく動作するよう `../../` を相対パスの先頭に追加してください。例えば、以下のように変更します：
  - `(../../imgs/01/phi3aisafety.png)` を `(../../../../imgs/01/phi3aisafety.png)` に変更

- **翻訳を整理する**: 翻訳した各ファイルは、対応するセクションの翻訳フォルダに配置してください。例えば、導入セクションをスペイン語に翻訳する場合、以下のように作成します：
  - `Phi-3CookBook/md/01.Introduce/translations/es/`

- **完全なPRを送信**: セクションのすべての翻訳ファイルが含まれていることを確認したうえでPRを送信してください。セクションの部分的な翻訳は受け付けていません。

### 執筆ガイドライン

すべてのドキュメントで一貫性を保つため、以下のガイドラインに従ってください：

- **URLのフォーマット**: すべてのURLを角括弧で囲み、その後に括弧を付けてください。間に余分なスペースを入れないでください。例：`[example](https://example.com)`。

- **相対リンク**: 現在のディレクトリ内のファイルやフォルダを指す相対リンクには `./` を使用し、親ディレクトリを指す場合には `../` を使用してください。例：`[example](../../path/to/file)` または `[example](../../../path/to/file)`。

- **国固有のロケールを含めない**: リンクに国固有のロケールを含めないようにしてください。例：`/en-us/` や `/en/` を避ける。

- **画像の保存**: すべての画像を `./imgs` フォルダに保存してください。

- **説明的な画像名**: 英数字とダッシュを使用して、画像に説明的な名前を付けてください。例：`example-image.jpg`。

## GitHub ワークフロー

プルリクエストを送信すると、以下のワークフローがトリガーされ、変更内容を検証します。プルリクエストがワークフローチェックを通過するために、以下の指示に従ってください：

- [Check Broken Relative Paths](../..)
- [Check URLs Don't Have Locale](../..)

### Check Broken Relative Paths

このワークフローは、ファイル内のすべての相対パスが正しいことを確認します。

1. VS Code を使用して、リンクが正しく動作しているか確認するには、以下のタスクを実行してください：
    - ファイル内の任意のリンクにカーソルを合わせます。
    - **Ctrl + クリック** でリンク先に移動します。
    - リンクをクリックしてもローカルで動作しない場合、ワークフローがトリガーされ、GitHub 上でも動作しません。

1. この問題を修正するには、VS Code が提供するパスの提案を使用して以下のタスクを実行してください：
    - `./` または `../` を入力します。
    - VS Code が入力内容に基づいて利用可能なオプションを提示します。
    - 正しいパスを選択してクリックし、パスが正しいことを確認します。

正しい相対パスを追加したら、変更を保存してプッシュしてください。

### Check URLs Don't Have Locale

このワークフローは、Web URL に国固有のロケールが含まれていないことを確認します。このリポジトリは世界中でアクセス可能であるため、URL に国固有のロケールを含めないことが重要です。

1. URL に国固有のロケールが含まれていないことを確認するには、以下のタスクを実行してください：

    - `/en-us/` や `/en/`、または他の言語ロケールがURLに含まれていないか確認します。
    - URL にこれらが含まれていなければ、このチェックを通過します。

1. この問題を修正するには、以下のタスクを実行してください：
    - ワークフローでハイライトされたファイルパスを開きます。
    - URL から国固有のロケールを削除します。

国固有のロケールを削除したら、変更を保存してプッシュしてください。

### Check Broken Urls

このワークフローは、ファイル内のWeb URL が正しく動作し、200ステータスコードを返していることを確認します。

1. URL が正しく動作していることを確認するには、以下のタスクを実行してください：
    - ファイル内のURLのステータスを確認します。

2. 壊れたURLを修正するには、以下のタスクを実行してください：
    - 壊れたURLを含むファイルを開きます。
    - 正しいURLに更新します。

URLを修正したら、変更を保存してプッシュしてください。

> [!NOTE]
>
> URLチェックが失敗する場合でもリンクがアクセス可能なケースがあります。これには以下の理由が含まれます：
>
> - **ネットワーク制限**: GitHub Actions サーバーが特定のURLへのアクセスを制限している場合があります。
> - **タイムアウト問題**: 応答に時間がかかりすぎるURLは、ワークフローでタイムアウトエラーを引き起こす可能性があります。
> - **一時的なサーバー問題**: サーバーダウンやメンテナンス中にURLが一時的に利用できない場合があります。

**免責事項**:  
この文書は、機械ベースのAI翻訳サービスを使用して翻訳されています。正確性を期すよう努めていますが、自動翻訳にはエラーや不正確な表現が含まれる可能性があります。原文（元の言語で記載された文書）を公式な情報源としてご参照ください。重要な情報については、専門の人間による翻訳をお勧めします。この翻訳の使用に起因する誤解や解釈の相違について、当社は一切の責任を負いません。