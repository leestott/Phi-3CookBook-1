# ਇੰਟਰੈਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈਟਬੌਟ ਵਿਥ ਵਿਸਪਰ

## ਓਵਰਵਿਊ

ਇੰਟਰੈਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈਟਬੌਟ ਇੱਕ ਟੂਲ ਹੈ ਜੋ ਯੂਜ਼ਰਜ਼ ਨੂੰ ਮਾਈਕਰੋਸੌਫਟ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਨਾਲ ਟੈਕਸਟ ਜਾਂ ਆਡੀਓ ਇਨਪੁਟ ਰਾਹੀਂ ਇੰਟਰੈਕਟ ਕਰਨ ਦੀ ਸਹੂਲਤ ਦਿੰਦਾ ਹੈ। ਇਹ ਚੈਟਬੌਟ ਅਨੇਕ ਤਰ੍ਹਾਂ ਦੇ ਕੰਮਾਂ ਲਈ ਵਰਤਿਆ ਜਾ ਸਕਦਾ ਹੈ, ਜਿਵੇਂ ਕਿ ਅਨੁਵਾਦ, ਮੌਸਮ ਦੀ ਜਾਣਕਾਰੀ, ਅਤੇ ਆਮ ਜਾਣਕਾਰੀ ਪ੍ਰਾਪਤੀ।

### ਸ਼ੁਰੂਆਤ ਕਰਨ ਲਈ

ਇਸ ਚੈਟਬੌਟ ਨੂੰ ਵਰਤਣ ਲਈ, ਹੇਠਾਂ ਦਿੱਤੇ ਹਦਾਇਤਾਂ ਦੀ ਪਾਲਣਾ ਕਰੋ:

1. ਇੱਕ ਨਵਾਂ [E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb](https://github.com/microsoft/Phi-3CookBook/blob/main/code/06.E2E/E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb) ਖੋਲ੍ਹੋ।
2. ਨੋਟਬੁੱਕ ਦੀ ਮੁੱਖ ਵਿੰਡੋ ਵਿੱਚ, ਤੁਹਾਨੂੰ ਇੱਕ ਚੈਟਬਾਕਸ ਇੰਟਰਫੇਸ ਨਜ਼ਰ ਆਵੇਗਾ ਜਿਸ ਵਿੱਚ ਟੈਕਸਟ ਇਨਪੁਟ ਬਾਕਸ ਅਤੇ "Send" ਬਟਨ ਹੋਵੇਗਾ।
3. ਟੈਕਸਟ-ਬੇਸਡ ਚੈਟਬੌਟ ਵਰਤਣ ਲਈ, ਸਿਰਫ਼ ਆਪਣੇ ਸੁਨੇਹੇ ਨੂੰ ਟੈਕਸਟ ਇਨਪੁਟ ਬਾਕਸ ਵਿੱਚ ਟਾਈਪ ਕਰੋ ਅਤੇ "Send" ਬਟਨ 'ਤੇ ਕਲਿਕ ਕਰੋ। ਚੈਟਬੌਟ ਤੁਹਾਨੂੰ ਇੱਕ ਆਡੀਓ ਫਾਈਲ ਦੇ ਨਾਲ ਜਵਾਬ ਦੇਵੇਗਾ, ਜੋ ਨੋਟਬੁੱਕ ਅੰਦਰ ਹੀ ਚਲਾਈ ਜਾ ਸਕਦੀ ਹੈ।

**ਨੋਟ**: ਇਸ ਟੂਲ ਨੂੰ GPU ਅਤੇ ਮਾਈਕਰੋਸੌਫਟ ਫਾਈ-3 ਅਤੇ OpenAI ਵਿਸਪਰ ਮਾਡਲਾਂ ਦੀ ਪਹੁੰਚ ਦੀ ਲੋੜ ਹੁੰਦੀ ਹੈ, ਜੋ ਕਿ ਸਪੀਚ ਰਿਕਗਨੀਸ਼ਨ ਅਤੇ ਅਨੁਵਾਦ ਲਈ ਵਰਤੇ ਜਾਂਦੇ ਹਨ।

### GPU ਦੀਆਂ ਲੋੜਾਂ

ਇਸ ਡੈਮੋ ਨੂੰ ਚਲਾਉਣ ਲਈ ਤੁਹਾਨੂੰ 12GB GPU ਮੈਮੋਰੀ ਦੀ ਲੋੜ ਹੈ।

**ਮਾਈਕਰੋਸੌਫਟ-ਫਾਈ-3-ਮਿਨੀ-4K ਇੰਸਟ੍ਰਕਟ** ਡੈਮੋ ਨੂੰ GPU 'ਤੇ ਚਲਾਉਣ ਲਈ ਮੈਮੋਰੀ ਦੀਆਂ ਲੋੜਾਂ ਕਈ ਕਾਰਕਾਂ 'ਤੇ ਨਿਰਭਰ ਕਰਦੀਆਂ ਹਨ, ਜਿਵੇਂ ਕਿ ਇਨਪੁਟ ਡਾਟਾ (ਆਡੀਓ ਜਾਂ ਟੈਕਸਟ) ਦਾ ਆਕਾਰ, ਅਨੁਵਾਦ ਲਈ ਵਰਤੀ ਗਈ ਭਾਸ਼ਾ, ਮਾਡਲ ਦੀ ਗਤੀ, ਅਤੇ GPU ਉੱਪਲਬਧ ਮੈਮੋਰੀ।

ਆਮ ਤੌਰ 'ਤੇ, ਵਿਸਪਰ ਮਾਡਲ ਨੂੰ GPUs 'ਤੇ ਚਲਾਉਣ ਲਈ ਡਿਜ਼ਾਈਨ ਕੀਤਾ ਗਿਆ ਹੈ। ਵਿਸਪਰ ਮਾਡਲ ਨੂੰ ਚਲਾਉਣ ਲਈ ਘੱਟੋ-ਘੱਟ 8 GB GPU ਮੈਮੋਰੀ ਦੀ ਸਿਫਾਰਸ਼ ਕੀਤੀ ਜਾਂਦੀ ਹੈ, ਪਰ ਇਹ ਜ਼ਰੂਰਤ ਪੂਰਣ ਲਈ ਵੱਧ ਮੈਮੋਰੀ ਨੂੰ ਸੰਭਾਲ ਸਕਦਾ ਹੈ।

ਇਹ ਮਹੱਤਵਪੂਰਨ ਹੈ ਕਿ ਜੇ ਤੁਸੀਂ ਵੱਡੀ ਮਾਤਰਾ ਵਿੱਚ ਡਾਟਾ ਜਾਂ ਉੱਚ ਮਾਤਰਾ ਵਾਲੇ ਰਿਕਵੈਸਟਾਂ ਨੂੰ ਮਾਡਲ 'ਤੇ ਚਲਾਉਂਦੇ ਹੋ, ਤਾਂ ਇਸ ਲਈ ਵੱਧ GPU ਮੈਮੋਰੀ ਦੀ ਲੋੜ ਹੋ ਸਕਦੀ ਹੈ ਜਾਂ ਪ੍ਰਦਰਸ਼ਨ ਦੇ ਸਮੱਸਿਆਵਾਂ ਆ ਸਕਦੀਆਂ ਹਨ। ਤੁਹਾਡੇ ਖਾਸ ਮਾਮਲੇ ਲਈ ਵੱਖ-ਵੱਖ ਸੰਰਚਨਾਵਾਂ ਨਾਲ ਟੈਸਟ ਕਰਨ ਅਤੇ ਮੈਮੋਰੀ ਦੇ ਵਰਤਾਏ ਜਾਣ ਦੀ ਨਿਗਰਾਨੀ ਕਰਨ ਦੀ ਸਿਫਾਰਸ਼ ਕੀਤੀ ਜਾਂਦੀ ਹੈ।

## ਇੰਟਰੈਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈਟਬੌਟ ਵਿਥ ਵਿਸਪਰ ਲਈ E2E ਸੈਂਪਲ

[ਇੰਟਰੈਕਟਿਵ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਚੈਟਬੌਟ ਵਿਥ ਵਿਸਪਰ](https://github.com/microsoft/Phi-3CookBook/blob/main/code/06.E2E/E2E_Phi-3-mini-4k-instruct-Whispser_Demo.ipynb) ਨਾਂਕ ਦੇ ਜੂਪਿਟਰ ਨੋਟਬੁੱਕ ਵਿੱਚ ਦਿਖਾਇਆ ਗਿਆ ਹੈ ਕਿ ਮਾਈਕਰੋਸੌਫਟ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਨੂੰ ਕਿਵੇਂ ਵਰਤਿਆ ਜਾ ਸਕਦਾ ਹੈ ਆਡੀਓ ਜਾਂ ਲਿਖਿਤ ਟੈਕਸਟ ਇਨਪੁਟ ਤੋਂ ਟੈਕਸਟ ਜਨਰੇਟ ਕਰਨ ਲਈ। ਨੋਟਬੁੱਕ ਵਿੱਚ ਕਈ ਫੰਕਸ਼ਨ ਪਰਿਭਾਸ਼ਿਤ ਕੀਤੇ ਗਏ ਹਨ:

1. `tts_file_name(text)`: ਇਹ ਫੰਕਸ਼ਨ ਇਨਪੁਟ ਟੈਕਸਟ ਦੇ ਆਧਾਰ 'ਤੇ ਜਨਰੇਟ ਕੀਤੀ ਗਈ ਆਡੀਓ ਫਾਈਲ ਨੂੰ ਸੇਵ ਕਰਨ ਲਈ ਇੱਕ ਫਾਈਲ ਨਾਂ ਬਣਾਉਂਦਾ ਹੈ।
2. `edge_free_tts(chunks_list,speed,voice_name,save_path)`: ਇਹ ਫੰਕਸ਼ਨ Edge TTS API ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇਨਪੁਟ ਟੈਕਸਟ ਦੇ ਚੰਕਸ ਦੀ ਸੂਚੀ ਤੋਂ ਇੱਕ ਆਡੀਓ ਫਾਈਲ ਬਣਾਉਂਦਾ ਹੈ। ਇਨਪੁਟ ਪੈਰਾਮੀਟਰ ਹਨ ਚੰਕਸ ਦੀ ਸੂਚੀ, ਸਪੀਚ ਰੇਟ, ਆਵਾਜ਼ ਦਾ ਨਾਂ, ਅਤੇ ਆਡੀਓ ਫਾਈਲ ਨੂੰ ਸੇਵ ਕਰਨ ਲਈ ਆਉਟਪੁੱਟ ਪਾਥ।
3. `talk(input_text)`: ਇਹ ਫੰਕਸ਼ਨ Edge TTS API ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੱਕ ਆਡੀਓ ਫਾਈਲ ਬਣਾਉਂਦਾ ਹੈ ਅਤੇ ਇਸਨੂੰ /content/audio ਡਾਇਰੈਕਟਰੀ ਵਿੱਚ ਇੱਕ ਰੈਂਡਮ ਫਾਈਲ ਨਾਂ ਨਾਲ ਸੇਵ ਕਰਦਾ ਹੈ। ਇਨਪੁਟ ਪੈਰਾਮੀਟਰ ਹੈ ਇਨਪੁਟ ਟੈਕਸਟ ਜੋ ਸਪੀਚ ਵਿੱਚ ਬਦਲਣਾ ਹੈ।
4. `run_text_prompt(message, chat_history)`: ਇਹ ਫੰਕਸ਼ਨ ਮਾਈਕਰੋਸੌਫਟ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੱਕ ਸੁਨੇਹਾ ਇਨਪੁਟ ਤੋਂ ਆਡੀਓ ਫਾਈਲ ਬਣਾਉਂਦਾ ਹੈ ਅਤੇ ਇਸਨੂੰ ਚੈਟ ਹਿਸਟਰੀ ਵਿੱਚ ਸ਼ਾਮਲ ਕਰਦਾ ਹੈ।
5. `run_audio_prompt(audio, chat_history)`: ਇਹ ਫੰਕਸ਼ਨ ਵਿਸਪਰ ਮਾਡਲ API ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਇੱਕ ਆਡੀਓ ਫਾਈਲ ਨੂੰ ਟੈਕਸਟ ਵਿੱਚ ਬਦਲਦਾ ਹੈ ਅਤੇ ਇਸਨੂੰ `run_text_prompt()` ਫੰਕਸ਼ਨ ਨੂੰ ਭੇਜਦਾ ਹੈ।
6. ਕੋਡ ਇੱਕ Gradio ਐਪ ਨੂੰ ਲਾਂਚ ਕਰਦਾ ਹੈ ਜੋ ਯੂਜ਼ਰਜ਼ ਨੂੰ ਸੁਨੇਹੇ ਟਾਈਪ ਕਰਨ ਜਾਂ ਆਡੀਓ ਫਾਈਲਾਂ ਅਪਲੋਡ ਕਰਕੇ ਫਾਈ 3 ਮਿਨੀ 4K ਇੰਸਟ੍ਰਕਟ ਡੈਮੋ ਨਾਲ ਇੰਟਰੈਕਟ ਕਰਨ ਦੀ ਆਗਿਆ ਦਿੰਦਾ ਹੈ। ਆਉਟਪੁੱਟ ਐਪ ਵਿੱਚ ਟੈਕਸਟ ਸੁਨੇਹੇ ਦੇ ਤੌਰ 'ਤੇ ਦਿਖਾਇਆ ਜਾਂਦਾ ਹੈ।

## ਟਰਬਲਸ਼ੂਟਿੰਗ

CUDA GPU ਡਰਾਈਵਰ ਇੰਸਟਾਲ ਕਰਨਾ

1. ਯਕੀਨੀ ਬਣਾਓ ਕਿ ਤੁਹਾਡੇ ਲਿਨਕਸ ਐਪਲੀਕੇਸ਼ਨ ਅੱਪਡੇਟ ਹਨ।

    ```bash
    sudo apt update
    ```

2. CUDA ਡਰਾਈਵਰ ਇੰਸਟਾਲ ਕਰੋ।

    ```bash
    sudo apt install nvidia-cuda-toolkit
    ```

3. CUDA ਡਰਾਈਵਰ ਦਾ ਸਥਾਨ ਰਜਿਸਟਰ ਕਰੋ।

    ```bash
    echo /usr/lib64-nvidia/ >/etc/ld.so.conf.d/libcuda.conf; ldconfig
    ```

4. Nvidia GPU ਮੈਮੋਰੀ ਦਾ ਆਕਾਰ ਚੈੱਕ ਕਰੋ (12GB GPU ਮੈਮੋਰੀ ਦੀ ਲੋੜ ਹੈ)।

    ```bash
    nvidia-smi
    ```

5. ਕੈਸ਼ ਖਾਲੀ ਕਰੋ: ਜੇ ਤੁਸੀਂ PyTorch ਵਰਤ ਰਹੇ ਹੋ, ਤਾਂ ਤੁਸੀਂ torch.cuda.empty_cache() ਕਾਲ ਕਰ ਸਕਦੇ ਹੋ ਤਾਂ ਜੋ ਸਾਰੀ ਬਿਨਾਂ ਵਰਤੀ ਹੋਈ ਕੈਸ਼ਡ ਮੈਮੋਰੀ ਰਿਹਾਅ ਹੋ ਸਕੇ ਅਤੇ ਇਸਨੂੰ ਹੋਰ GPU ਐਪਲੀਕੇਸ਼ਨਾਂ ਦੁਆਰਾ ਵਰਤਿਆ ਜਾ ਸਕੇ।

    ```python
    torch.cuda.empty_cache() 
    ```

6. Nvidia CUDA ਚੈੱਕ ਕਰੋ।

    ```bash
    nvcc --version
    ```

7. ਹੱਗਿੰਗ ਫੇਸ ਟੋਕਨ ਬਣਾਉਣ ਲਈ ਹੇਠਾਂ ਦਿੱਤੇ ਕੰਮ ਕਰੋ:

    - [Hugging Face Token Settings page](https://huggingface.co/settings/tokens?WT.mc_id=aiml-137032-kinfeylo) 'ਤੇ ਜਾਓ।
    - **ਨਵਾਂ ਟੋਕਨ** ਚੁਣੋ।
    - ਪ੍ਰਾਜੈਕਟ ਦਾ **ਨਾਮ** ਦਰਜ ਕਰੋ ਜੋ ਤੁਸੀਂ ਵਰਤਣਾ ਚਾਹੁੰਦੇ ਹੋ।
    - **ਟਾਈਪ** ਨੂੰ **Write** 'ਤੇ ਸੈਟ ਕਰੋ।

> **ਨੋਟ**
>
> ਜੇ ਤੁਸੀਂ ਹੇਠਾਂ ਦਿੱਤੀ ਗਲਤੀ ਦਾ ਸਾਹਮਣਾ ਕਰਦੇ ਹੋ:
>
> ```bash
> /sbin/ldconfig.real: Can't create temporary cache file /etc/ld.so.cache~: Permission denied 
> ```
>
> ਇਸਨੂੰ ਹੱਲ ਕਰਨ ਲਈ, ਆਪਣੇ ਟਰਮਿਨਲ ਵਿੱਚ ਹੇਠਾਂ ਦਿੱਤਾ ਕਮਾਂਡ ਟਾਈਪ ਕਰੋ।
>
> ```bash
> sudo ldconfig
> ```

**ਅਸਵੀਕਾਰਤਾ**:  
ਇਹ ਦਸਤਾਵੇਜ਼ ਮਸ਼ੀਨ-ਆਧਾਰਿਤ AI ਅਨੁਵਾਦ ਸੇਵਾਵਾਂ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਅਨੁਵਾਦਿਤ ਕੀਤਾ ਗਿਆ ਹੈ। ਜਦੋਂ ਕਿ ਅਸੀਂ ਸਹੀ ਹੋਣ ਲਈ ਕੋਸ਼ਿਸ਼ ਕਰਦੇ ਹਾਂ, ਕਿਰਪਾ ਕਰਕੇ ਧਿਆਨ ਦਿਓ ਕਿ ਸਵੈਚਾਲਿਤ ਅਨੁਵਾਦਾਂ ਵਿੱਚ ਗਲਤੀਆਂ ਜਾਂ ਅਸੁੱਚਾਈਆਂ ਹੋ ਸਕਦੀਆਂ ਹਨ। ਇਸ ਦੀ ਮੂਲ ਭਾਸ਼ਾ ਵਿੱਚ ਮੂਲ ਦਸਤਾਵੇਜ਼ ਨੂੰ ਅਧਿਕਾਰਕ ਸਰੋਤ ਮੰਨਿਆ ਜਾਣਾ ਚਾਹੀਦਾ ਹੈ। ਮਹੱਤਵਪੂਰਨ ਜਾਣਕਾਰੀ ਲਈ, ਪੇਸ਼ੇਵਰ ਮਨੁੱਖੀ ਅਨੁਵਾਦ ਦੀ ਸਿਫਾਰਸ਼ ਕੀਤੀ ਜਾਂਦੀ ਹੈ। ਅਸੀਂ ਇਸ ਅਨੁਵਾਦ ਦੇ ਉਪਯੋਗ ਤੋਂ ਪੈਦਾ ਹੋਣ ਵਾਲੇ ਕਿਸੇ ਵੀ ਗਲਤ ਫਹਿਮੀ ਜਾਂ ਗਲਤ ਵਿਆਖਿਆ ਲਈ ਜ਼ਿੰਮੇਵਾਰ ਨਹੀਂ ਹਾਂ।